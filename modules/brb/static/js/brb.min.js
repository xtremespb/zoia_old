"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(_){var i="zoiaFormBuilder",s={load:{url:"#",method:"POST"},save:{url:"#",method:"POST"},captcha:"/api/captcha",items:[],edit:!1,validation:!0,html:{helpText:'<div class="uk-text-meta">{text}</div>',text:'<div class="uk-margin-bottom"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><br><div class="uk-form-controls"><input class="uk-input {prefix}-form-field{css}" id="{prefix}_{name}" type="{type}" placeholder=""{autofocus}><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="uk-label-danger"></span></div>{helpText}</div></div>',select:'<div class="uk-margin-bottom"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><br><select{multiple} class="uk-select {prefix}-form-field{css}" id="{prefix}_{name}"{autofocus}>{values}</select><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="uk-label-danger"></span></div>{helpText}</div>',passwordConfirm:'<div class="uk-margin"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><div class="uk-flex"><div class="{prefix}-field-wrap"><input class="uk-input {prefix}-form-field" id="{prefix}_{name}" type="password" placeholder=""{autofocus}></div><div><input class="uk-input {prefix}-form-field" id="{prefix}_{name}Confirm" type="password" placeholder=""></div></div><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="uk-label-danger"></span></div>{helpText}</div>',captcha:'<div class="uk-margin"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><div class="uk-grid uk-grid-small"><div><input class="uk-input {prefix}-form-field {prefix}-captcha-field{css}" type="text" placeholder="" id="{prefix}_{name}"{autofocus}></div><div><div class="uk-form-controls"><img class="{prefix}-captcha-img"></div></div></div><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="uk-label-danger"></span></div>{helpText}',buttonsWrap:'<div class="{css}">{buttons}{html}</div>',button:'<button class="uk-button {prefix}-form-button{css}" id="{prefix}_{name}" type="{type}">{label}</button>',launcher:'<div class="uk-margin"><label class="uk-form-label" for="{prefix}_{name}_btn">{label}:{bullet}</label><div class="uk-flex"><div id="{prefix}_{name}_val" class="{prefix}-{name}-selector" data="{data}">{value}</div><div><button class="uk-button uk-button-default" id="{prefix}_{name}_btn" type="button">{labelBtn}</button></div></div>{helpText}{html}</div>',textarea:'<div class="uk-margin-bottom"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><br><div class="uk-form-controls"><textarea class="uk-textarea {prefix}-form-field{css}" id="{prefix}_{name}"{autofocus}></textarea><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="uk-label-danger"></span></div>{helpText}</div></div>',checkboxlistItem:'<li><label><input class="uk-checkbox {prefix}-{name}-cbx" type="checkbox" data="{title}">&nbsp;&nbsp;{title}</label></li>',checkboxlist:'<div class="uk-margin-bottom"><label class="uk-form-label" for="{prefix}_{name}">{label}:{bullet}</label><div class="uk-panel uk-panel-scrollable{css}" id="{prefix}_{name}_wrap"><ul class="uk-list">{items}</ul></div>{helpText}</div>',valueslistItem:'<div class="uk-flex uk-margin-top {prefix}-{name}-item"><div class="uk-margin-right"><input placeholder="{langParameter}" type="text" class="uk-input formBuilder-valueslist-par" value="{key}"></div><div class="uk-margin-right"><input placeholder="{langValue}" type="text" class="uk-input formBuilder-valueslist-val" value="{value}"></div><div style="padding-top:3px"><button class="uk-icon-button uk-button-danger formBuilder-valueslist-btnDel" uk-icon="icon:minus"></button></div></div>',valueslistItemFixed:'<div class="uk-flex uk-margin-top {prefix}-{name}-item"><div class="uk-margin-right">{key}</div><div class="uk-margin-right"><input placeholder="{langValue}" type="text" class="uk-input formBuilder-valueslist-val" value="{value}"></div></div>',valueslist:'<div class="uk-flex uk-flex-column"><div class="uk-margin-bottom"><label class="uk-form-label">{label}:{bullet}</label></div><div><button type="button" class="uk-icon-button uk-button-primary formBuilder-valueslist-btnAdd" id="{prefix}_{name}_btnAdd" uk-icon="icon:plus" data-prefix="{prefix}" data-name="{name}"></button></div><div id="{prefix}_{name}_wrap" class="uk-margin-bottom {prefix}-formBuilder-valueslist-wrap">{items}</div></div>',bullet:'&nbsp;<span style="color:red;font-size:120%">&#8226;</span>'},template:{fields:"{fields}",buttons:"{buttons}"},lang:{mandatoryMissing:"Should not be empty",tooShort:"Too short",tooLong:"Too long",invalidFormat:"Doesn't match required format",passwordsNotMatch:"Passwords do not match",parameter:"Parameter",value:"Value"},events:{onInit:function(){},onSaveSubmit:function(){},onSaveValidate:function(){},onSaveSuccess:function(){},onSaveError:function(){},onLoadStart:function(){},onLoadSuccess:function(){},onLoadError:function(){}},formDangerClass:"uk-form-danger"},a=function(t,e){this.element=t,this.settings=_.extend({},s,e),this._defaults=s,this._name=i,this._prefix=this.element.id,this._formTypes=["text","email","password","tags","select","passwordConfirm","captcha","launcher","textarea","checkboxlist","valueslist","valueslistfixed","valueslisteditable"],this._saving=!1,this.init()};_.extend(a.prototype,{init:function(){var t="",e="";for(var i in this.settings.items){var s=this.settings.items[i],a="";switch((s.validation&&!this.settings.edit&&s.validation.mandatoryCreate||s.validation&&this.settings.edit&&s.validation.mandatoryEdit)&&(a=this.settings.html.bullet),s.type){case"text":case"email":case"password":case"tags":t+=this._template(this.settings.html.text,{prefix:this._prefix,name:i,label:s.label,bullet:a,css:s.css?" "+s.css:"",autofocus:s.autofocus?"autofocus":"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",type:s.type});break;case"launcher":t+=this._template(this.settings.html.launcher,{prefix:this._prefix,name:i,label:s.label,bullet:a,labelBtn:s.labelBtn,data:s.data,value:s.value,css:s.css?" "+s.css:"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",html:s.html?" "+s.html:""});break;case"valueslist":var l="";for(var n in s.values)l+=this._template(this.settings.html.valueslistItem,{prefix:this._prefix,name:i,key:s.values[n].p,value:s.values[n].v,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});t+=this._template(this.settings.html.valueslist,{prefix:this._prefix,name:i,label:s.label,bullet:a,items:l});break;case"valueslisteditable":var r="";for(var o in s.values)r+=this._template(s.values[o].t?this.settings.html.valueslistItemEditablePostfix:this.settings.html.valueslistItemEditable,{prefix:this._prefix,name:i,key:s.values[o].p,value:s.values[o].v,postfix:s.values[o].t,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});t+=this._template(this.settings.html.valueslistEditable,{prefix:this._prefix,name:i,label:s.label,bullet:a,items:r,helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",buttons:s.buttons||""});break;case"valueslistfixed":var d="";for(var p in s.values)d+=this._template(this.settings.html.valueslistItemFixed,{prefix:this._prefix,name:i,key:s.values[p].p,value:s.values[p].t,data:s.values[p].v,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});t+=this._template(this.settings.html.valueslistFixed,{prefix:this._prefix,name:i,label:s.label,bullet:a,items:d});break;case"select":var u="";for(var h in s.values)u+='<option value="'+h+'">'+s.values[h]+"</option>";t+=this._template(this.settings.html.select,{prefix:this._prefix,name:i,label:s.label,bullet:a,css:s.css?" "+s.css:"",multiple:s.multiple?" multiple":"",autofocus:s.autofocus?"autofocus":"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",type:s.type,values:u});break;case"checkboxlist":var f="";for(var c in s.values)f+=this._template(this.settings.html.checkboxlistItem,{prefix:this._prefix,name:i,title:s.values[c]});t+=this._template(this.settings.html.checkboxlist,{prefix:this._prefix,name:i,label:s.label,bullet:a,css:s.css?" "+s.css:"",multiple:s.multiple?" multiple":"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",items:f});break;case"passwordConfirm":t+=this._template(this.settings.html.passwordConfirm,{prefix:this._prefix,name:i,label:s.label,bullet:a,css:s.css?" "+s.css:"",autofocus:s.autofocus?"autofocus":"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",type:"password"});break;case"captcha":t+=this._template(this.settings.html.captcha,{prefix:this._prefix,name:i,css:s.css?" "+s.css:"",label:s.label,bullet:a,helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):"",autofocus:s.autofocus?"autofocus":""});break;case"textarea":t+=this._template(this.settings.html.textarea,{prefix:this._prefix,name:i,label:s.label,bullet:a,rows:s.rows?s.rows:"2",css:s.css?" "+s.css:"",autofocus:s.autofocus?"autofocus":"",helpText:s.helpText?this._template(this.settings.html.helpText,{text:s.helpText,prefix:this._prefix}):""});break;case"buttons":for(var m="",v=0;v<s.buttons.length;v++){var g=s.buttons[v];m+=this._template(this.settings.html.button,{css:g.css?" "+g.css:"",prefix:this._prefix,name:g.name||"button"+v,type:g.type||"button",label:g.label||""})+"&nbsp;"}e+=this._template(this.settings.html.buttonsWrap,{prefix:this._prefix,css:s.css?" "+s.css:"",buttons:m,html:s.html?" "+s.html:""})}}_(this.element).html(this._template(this.settings.template.fields,{fields:t})+this._template(this.settings.template.buttons,{buttons:e})),_(".formBuilder-valueslist-btnAdd").unbind(),_(".formBuilder-valueslist-btnAdd").click(function(t){x._valueslistAddFunc(_(this).attr("data-prefix"),_(this).attr("data-name"),"","")}),_(".formBuilder-valueslist-btnDel").unbind(),_(".formBuilder-valueslist-btnDel").click(function(t){_(this).parent().parent().remove()}),_(".formBuilder-valueslistfixed-btnAdd").unbind(),_(".formBuilder-valueslistfixed-btnAdd").click(function(t){x._valueslistfixedAddFunc(_(this).attr("data-prefix"),_(this).attr("data-name"),"","")}),_(".formBuilder-valueslistfixed-btnDel").unbind(),_(".formBuilder-valueslistfixed-btnDel").click(function(t){_(this).parent().parent().remove()}),_(".formBuilder-valueslisteditable-btnAdd").unbind(),_(".formBuilder-valueslisteditable-btnAdd").click(function(t){x._valueslistAddFunc(_(this).attr("data-prefix"),_(this).attr("data-name"),"","")}),_(".formBuilder-valueslisteditable-btnDel").unbind(),_(".formBuilder-valueslisteditable-btnDel").click(function(t){_(this).parent().parent().remove()}),this.settings.events.onInit&&this.settings.events.onInit();var x=this;for(var b in _(this.element).submit(function(t){t.preventDefault(),x._submit()}),this._captchaInit(),this.settings.items){this.settings.items[b].autofocus&&_("#"+this._prefix+"_"+b).focus()}},_valueslistAddFunc:function(t,e,i,s,a){var l=this._template(this.settings.html.valueslistItem,{prefix:t,name:e,key:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),value:s,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});_("#"+t+"_"+e+"_wrap").append(l),a||_("."+t+"-"+e+"-item").last().find("div>input:first").focus(),_(".formBuilder-valueslist-btnDel").unbind(),_(".formBuilder-valueslist-btnDel").click(function(t){t.stopPropagation(),_(this).parent().parent().remove()})},_valueslisteditableAddFunc:function(t,e,i,s,a,l,n){if(l="undefined"===l?null:l,i){i=String(i);var r=this._template(l?this.settings.html.valueslistItemEditablePostfix:this.settings.html.valueslistItemEditable,{prefix:t,name:e,key:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),value:s,data:a,postfix:l,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});_("#"+t+"_"+e+"_wrap").append(r),n||_("."+t+"-"+e+"-item").last().find("div>input:first").focus(),_(".formBuilder-valueslisteditable-btnDel").unbind(),_(".formBuilder-valueslisteditable-btnDel").click(function(t){t.stopPropagation(),_(this).parent().parent().remove()})}},_valueslistfixedAddFunc:function(t,e,i,s,a){var l=this._template(this.settings.html.valueslistfixedItem,{prefix:t,name:e,key:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),value:s,langParameter:this.settings.lang.parameter,langValue:this.settings.lang.value});_("#"+t+"_"+e+"_wrap").append(l),a||_("."+t+"-"+e+"-item").last().find("div>input:first").focus(),_(".formBuilder-valueslistfixed-btnDel").unbind(),_(".formBuilder-valueslistfixed-btnDel").click(function(t){t.stopPropagation(),_(this).parent().parent().remove()})},setValidation:function(t){this.validation=t},setEditMode:function(t){this.settings.edit=t},clearErrors:function(){_("."+this._prefix+"-form-field").removeClass(this.settings.formDangerClass),_("."+this._prefix+"-error-text").hide()},resetForm:function(){this.clearErrors();for(var t in _("."+this._prefix+"-form-field").not(".zoiaFormBuilder-no-reset").val(""),_("select."+this._prefix+"-form-field").prop("selectedIndex",0),_(".formBuilder-valueslist-val").val(""),_("."+this._prefix+"-formBuilder-valueslist-wrap").html(""),this.settings.items){var e=this.settings.items[t];e.default&&_("#"+this._prefix+"_"+t).val(e.default),"launcher"===e.type&&(_("#"+this._prefix+"_"+t+"_val").html(e.value),_("#"+this._prefix+"_"+t+"_val").attr("data",e.data)),"checkboxlist"===e.type&&_("."+this._prefix+"-"+t+"-cbx").prop("checked",!1)}},serialize:function(){var a=this,l={};for(var n in this.settings.items){var r=this.settings.items[n];-1!==this._formTypes.indexOf(r.type)&&function(){switch(r.type){case"launcher":l[n]={type:r.type,value:_("#"+a._prefix+"_"+n+"_val").html(),id:_("#"+a._prefix+"_"+n+"_val").attr("data")};break;case"checkboxlist":var t=_("."+a._prefix+"-"+n+"-cbx:checked").map(function(){return _(this).attr("data")}).get();l[n]={type:r.type,value:t.join(",")};break;case"valueslist":var e=[];_("."+a._prefix+"-"+n+"-item").each(function(){e.push({p:String(_(this).find("*>.formBuilder-valueslist-par").val()),v:String(_(this).find("*>.formBuilder-valueslist-val").val())})}),l[n]={type:r.type,value:e};break;case"valueslisteditable":var i=[];_("."+a._prefix+"-"+n+"-item").each(function(){i.push({p:String(_(this).find("*>.formBuilder-valueslist-par").html()),v:String(_(this).find("*>.formBuilder-valueslist-val").val()),d:String(_(this).find("*>.formBuilder-valueslist-val").attr("data")),t:String(_(this).find("*>.formBuilder-valueslist-val").attr("data-postfix"))})}),l[n]={type:r.type,value:i};break;case"valueslistfixed":var s=[];_("."+a._prefix+"-"+n+"-item").each(function(){s.push({p:String(_(this).find("*>.formBuilder-valueslist-val").attr("data")),v:String(_(this).find("*>.formBuilder-valueslist-val").val())})}),l[n]={type:r.type,value:s};break;default:l[n]={type:r.type,value:_("#"+a._prefix+"_"+n).val()}}}()}return l},deserialize:function(t){if(t&&"object"===(void 0===t?"undefined":_typeof(t)))for(var e in this.settings.items)switch(t[e]||(t[e]={id:"",value:""}),t[e].type){case"launcher":_("#"+this._prefix+"_"+e+"_val").html(t[e].value),_("#"+this._prefix+"_"+e+"_val").attr("data",t[e].id);break;case"checkboxlist":var i=t[e].value.split(",");for(var s in i)_('.editForm-groups-cbx[data="'+i[s]+'"]').prop("checked",!0);break;case"valueslist":var a=[];for(var l in t[e].value)a.push(t[e].value[l].p),a.push(t[e].value[l].v);for(_("#"+this._prefix+"_"+e+"_wrap").html("");0<a.length;){var n=a.shift(),r=a.shift();this._valueslistAddFunc(this._prefix,e,n,r,!0)}break;case"valueslisteditable":var o=[];for(var d in t[e].value)o.push(t[e].value[d].p),o.push(t[e].value[d].v),o.push(t[e].value[d].d),o.push(t[e].value[d].t);for(_("#"+this._prefix+"_"+e+"_wrap").html("");0<o.length;){var p=o.shift(),u=o.shift(),h=o.shift(),f=o.shift();this._valueslisteditableAddFunc(this._prefix,e,p,u,h,f,!0)}break;case"valueslistfixed":for(var c in _("."+this._prefix+"-"+e+"-item-val").val(""),t[e].value)_("."+this._prefix+"-"+e+'-item-val[data="'+t[e].value[c].p+'"]').val(t[e].value[c].v);break;default:_("#"+this._prefix+"_"+e).val(t[e].value||"")}},deserializePart:function(t,e){if(e&&"object"===(void 0===e?"undefined":_typeof(e)))switch(e||(e={id:"",value:""}),e.type){case"launcher":_("#"+this._prefix+"_"+t+"_val").html(e.value),_("#"+this._prefix+"_"+t+"_val").attr("data",e.id);break;case"checkboxlist":var i=e.value.split(",");for(var s in i)_('.editForm-groups-cbx[data="'+i[s]+'"]').prop("checked",!0);break;case"valueslist":var a=[];for(var l in e.value)a.push(e.value[l].p),a.push(e.value[l].v);for(_("#"+this._prefix+"_"+t+"_wrap").html("");0<a.length;){var n=a.shift(),r=a.shift();this._valueslistAddFunc(this._prefix,t,n,r,!0)}break;case"valueslisteditable":var o=[];for(var d in e.value)o.push(e.value[d].p),o.push(e.value[d].v),o.push(e.value[d].d),o.push(e.value[d].t);for(_("#"+this._prefix+"_"+t+"_wrap").html("");0<o.length;){var p=o.shift(),u=o.shift(),h=o.shift(),f=o.shift();this._valueslisteditableAddFunc(this._prefix,t,p,u,h,f,!0)}break;case"valueslistfixed":for(var c in _("."+this._prefix+"-"+t+"-item-val").val(""),e.value)_("."+this._prefix+"-"+t+'-item-val[data="'+e.value[c].p+'"]').val(e.value[c].v);break;default:_("#"+this._prefix+"_"+t).val(e.value||"")}},loadJSON:function(t){var u=this,h=this;jQuery.each(t,function(t,e){if(_("#"+h._prefix+"_"+t).val(e),h.settings.items[t]&&"checkboxlist"===h.settings.items[t].type&&e){var i=e.split(",");for(var s in i)_('.editForm-groups-cbx[data="'+i[s]+'"]').prop("checked",!0)}if(h.settings.items[t]&&"valueslist"===h.settings.items[t].type&&e){var a=[];for(var l in e)a.push(l),a.push(e[l]);for(var n in _("#"+h._prefix+"_"+t+"_wrap").html(""),e)h._valueslistAddFunc(h._prefix,t,a.shift(),a.shift())}if(h.settings.items[t]&&"valueslisteditable"===h.settings.items[t].type&&e){var r=[];for(var o in e)r.push(o),r.push(e[o]);for(var d in _("#"+h._prefix+"_"+t+"_wrap").html(""),e)h._valueslisteditableAddFunc(h._prefix,t,r.shift(),r.shift(),r.shift(),r.shift())}if(h.settings.items[t]&&"valueslistfixed"===h.settings.items[t].type&&e)for(var p in _("."+u._prefix+"-"+t+"-item-val").val(""),e)_("."+u._prefix+"-"+t+'-item-val[data="'+e[p].p+'"]').val(e[p].v)})},loadData:function(t){var u=this;this.settings.events.onLoadStart&&this.settings.events.onLoadStart(),this.resetForm();var h=this;_.ajax({type:this.settings.load.method,url:this.settings.load.url,data:t,cache:!1}).done(function(t){t&&1===t.status?(jQuery.each(t.item,function(t,e){if(_("#"+h._prefix+"_"+t).val(e),h.settings.items[t]&&"checkboxlist"===h.settings.items[t].type&&e){var i=e.split(",");for(var s in i)_('.editForm-groups-cbx[data="'+i[s]+'"]').prop("checked",!0)}if(h.settings.items[t]&&"valueslist"===h.settings.items[t].type&&e){var a=[];for(var l in e)a.push(l),a.push(e[l]);for(var n in _("#"+h._prefix+"_"+t+"_wrap").html(""),e)h._valueslistAddFunc(h._prefix,t,a.shift(),a.shift())}if(h.settings.items[t]&&"valueslisteditable"===h.settings.items[t].type&&e){var r=[];for(var o in e)r.push(o),r.push(e[o]);for(var d in _("#"+h._prefix+"_"+t+"_wrap").html(""),e)h._valueslisteditableAddFunc(h._prefix,t,r.shift(),r.shift(),r.shift())}if(h.settings.items[t]&&"valueslistfixed"===h.settings.items[t].type&&e)for(var p in _("."+u._prefix+"-"+t+"-item-val").val(""),e)_("."+u._prefix+"-"+t+'-item-val[data="'+e[p].p+'"]').val(e[p].v)}),h.settings.events.onLoadSuccess&&h.settings.events.onLoadSuccess(t)):h.settings.events.onLoadError&&h.settings.events.onLoadError(t)}).fail(function(t,e){h.settings.events.onLoadError&&h.settings.events.onLoadError(t,e)})},captchaRefresh:function(){_("."+this._prefix+"-captcha-img").show(),_("."+this._prefix+"-captcha-img").attr("src",this.settings.captcha+"?"+(new Date).getTime()),_("."+this._prefix+"-captcha-field").val("")},_captchaInit:function(){this.captchaRefresh();var t=this;_("img."+this._prefix+"-captcha-img").click(function(){t.captchaRefresh()})},_template:function(t,e){for(var i in e)t=t.replace(new RegExp("{"+i+"}","g"),e[i]);return t},validate:function(e){var i=this,t={},s={};for(var a in this.settings.items){var l=this.settings.items[a];if(-1!==this._formTypes.indexOf(l.type))if("launcher"!==l.type){if("valueslist"===l.type)if("continue"===function(){if(e&&e[a])return s[a]=e[a].value,"continue";var t=[];return _("."+i._prefix+"-"+a+"-item").each(function(){t.push({p:String(_(this).find("*>.formBuilder-valueslist-par").val()),v:String(_(this).find("*>.formBuilder-valueslist-val").val())})}),s[a]=t,"continue"}())continue;if("valueslisteditable"===l.type)if("continue"===function(){if(e&&e[a])return s[a]=e[a].value,"continue";var t=[];return _("."+i._prefix+"-"+a+"-item").each(function(){t.push({p:String(_(this).find("*>.formBuilder-valueslist-par").val()),v:String(_(this).find("*>.formBuilder-valueslist-val").val())})}),s[a]=t,"continue"}())continue;if("valueslistfixed"===l.type)if("continue"===function(){if(e&&e[a])return s[a]=e[a].value,"continue";var t=[];return _("."+i._prefix+"-"+a+"-item").each(function(){t.push({p:String(_(this).find("*>.formBuilder-valueslist-val").attr("data")),v:String(_(this).find("*>.formBuilder-valueslist-val").val())})}),s[a]=t,"continue"}())continue;if("checkboxlist"!==l.type){var n=e?e[a]?e[a].value:void 0:_("#"+this._prefix+"_"+a).val();if(l.validation){if(!l.validation.mandatoryEdit&&!n&&this.settings.edit||!l.validation.mandatoryCreate&&!n&&!this.settings.edit)continue;if(l.validation.mandatoryCreate&&!n&&!this.settings.edit){t[a]=this.settings.lang.mandatoryMissing;continue}if(l.validation.mandatoryEdit&&!n&&this.settings.edit){t[a]=this.settings.lang.mandatoryMissing;continue}if(l.validation.process&&"function"==typeof l.validation.process&&(n=l.validation.process(n)),"passwordConfirm"===l.type)if(_("#"+this._prefix+"_"+a+"Confirm").val()!==n){t[a]=this.settings.lang.passwordsNotMatch;continue}if(l.validation.length){if(l.validation.length.min&&n.length<l.validation.length.min){t[a]=this.settings.lang.tooShort;continue}if(l.validation.length.max&&n.length>l.validation.length.max){t[a]=this.settings.lang.tooLong;continue}}if(l.validation.regexp&&!n.match(l.validation.regexp)){t[a]=this.settings.lang.invalidFormat;continue}s[a]=n}}else{var r=_("."+this._prefix+"-"+a+"-cbx:checked").map(function(){return _(this).attr("data")}).get();s[a]=e?e[a]?e[a].value:void 0:r.join(",")}}else s[a]=e?e[a]?e[a].id:void 0:_("#"+this._prefix+"_"+a+"_val").attr("data")}return{data:s,errors:t}},errors:function(t){if(0<Object.keys(t).length){var e=!1;for(var i in t)_("#"+this._prefix+"_"+i).addClass(this.settings.formDangerClass),_("#"+this._prefix+"_"+i+"_error_text > span").html(t[i]),_("#"+this._prefix+"_"+i+"_error_text").show(),e||(_("#"+this._prefix+"_"+i).focus(),e=!0),"passwordConfirm"===this.settings.items[i].type&&_("#"+this._prefix+"_"+i+"Confirm").addClass(this.settings.formDangerClass);return!0}return!1},_submit:function(){if(!this._saving){this.settings.events.onSaveSubmit&&this.settings.events.onSaveSubmit(),this.clearErrors();var s=this,t={},e={};if(this.settings.validation){var i=this.validate();if(t=i.data||{},e=i.errors||{},this.errors(e))return;if(this.settings.events.onSaveValidate&&"__stop"===(t=this.settings.events.onSaveValidate(t,e)||t))return}else if(this.settings.events.onSaveValidate&&"__stop"===(t=this.settings.events.onSaveValidate(t)))return;s._saving=!0,_.ajax({type:this.settings.save.method,url:this.settings.save.url,data:t,cache:!1}).done(function(t){if(s._saving=!1,t&&1===t.status)s.settings.events.onSaveSuccess&&s.settings.events.onSaveSuccess(t);else{if(t.fields)for(var e in t.fields){var i=!1;_("#"+s._prefix+"_"+t.fields[e]).addClass(s.settings.formDangerClass),i||(_("#"+s._prefix+"_"+t.fields[e]).focus(),i=!0)}s.captchaRefresh(),s.settings.events.onSaveError&&s.settings.events.onSaveError(t)}}).fail(function(t,e){s._saving=!1,s.captchaRefresh(),s.settings.events.onSaveError&&s.settings.events.onSaveError(t,e)})}}}),_.fn[i]=function(t){var e=void 0;return this.each(function(){(e=_.data(this,"plugin_"+i))||(e=new a(this,t),_.data(this,"plugin_"+i,e))}),e}}(jQuery,window,document),function(c){var i="zoiaTable",s={limit:10,maxPages:7,offline:!1,offlineData:{},html:{spinnerHTML:'<div style="width:40px;height:40px;background-color:#333;-webkit-animation:sk-rotateplane 1.2s infinite ease-in-out;animation: sk-rotateplane 1.2s infinite ease-in-out;margin: auto;position: absolute;top:0;left:0;bottom:0;right:0"></div>',spinnerWrapCSS:"background:#fff;position:absolute;opacity:0.6",headCSS:"@-webkit-keyframes sk-rotateplane{0%{-webkit-transform:perspective(120px)}50%{-webkit-transform:perspective(120px) rotateY(180deg)}100%{-webkit-transform:perspective(120px) rotateY(180deg) rotateX(180deg)}}@keyframes sk-rotateplane{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}100%{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}",listWrapStartHTML:'<ul class="za-pagination" za-margin>',listWrapEndHTML:"</ul>",itemPagePrevHTML:'<li><a href="#"><a class="zoia-page {elementId}PaginationLink" data-page="{page}"><span za-pagination-previous></span></a></li>',itemPageNextHTML:'<li><a href="#"><a class="zoia-page {elementId}PaginationLink" data-page="{page}"><span za-pagination-next></span></a></li>',itemPageHTML:'<li><a class="zoia-page {elementId}PaginationLink" data-page="{page}">{page}</a></li>',itemPageDotsHTML:'<li class="za-disabled"><span>...</span></li>',arrowDown:"&nbsp;&#x25BC;",arrowUp:"&nbsp;&#x25B2;",errorHTML:'<tr><td colspan="100%">{error}</td></tr>'},lang:{error:"Could not load data from server. Please try to refresh page in a few moments.",noitems:"No items to display"},sort:{},loadOnStart:!0,onLoad:function(){}};function a(t,e){this.element=t,this.settings=c.extend({},s,e),this._defaults=s,this._name=i,this.page=1,this.loading=!1,this.search="",this.currentData={},this.init()}c.extend(a.prototype,{init:function(){var e=this;c("head").append('<style type="text/css">'+this.settings.html.headCSS+"</style>"),c(this.element).before('<div style="'+this.settings.html.spinnerWrapCSS+'" id="'+this.element.id+'LoadingDiv">'+this.settings.html.spinnerHTML+"</div>"),this._loading(!1),this.header=[];for(var t=0;t<c("#"+this.element.id+" > thead > tr").children("th").length;t++){var i=c("#"+this.element.id+" > thead > tr").children("th")[t];if(i.id){this.header.push(i.id);var s=i.id.replace(new RegExp("^"+this.element.id+"_"),"");this.settings.fields[s]&&this.settings.fields[s].sortable&&(c(i).css("cursor","pointer"),c(i).click(function(t){e._sortColumn(t)}))}}c("."+this.element.id+"SearchInput").keypress(e._debounce(function(t){e._search(t)},250)),c("."+this.element.id+"SearchInputClear").click(function(t){e._searchReset(t)}),this.settings.loadOnStart&&this.load()},_search:function(t){this.loading||(this.search=c(t.target).val().trim(),this.page=1,this.load())},_searchReset:function(){this.loading||(c("."+this.element.id+"SearchInput").val("").focus(),this.search="",this.page=1,this.load())},_sortIndicator:function(t,e){c("#"+this.element.id+"SortingIndicator").remove();for(var i="desc"===e?this.settings.html.arrowDown:this.settings.html.arrowUp,s=0;s<c("#"+this.element.id+" > thead > tr").children("th").length;s++){var a=c("#"+this.element.id+" > thead > tr").children("th")[s];a.id===this.element.id+"_"+t&&c(a).html(c(a).html()+'<span class="zoiaTableSortingIndicator" id="'+this.element.id+'SortingIndicator">'+i+"</span>")}},_sortColumn:function(t){if(t.preventDefault(),t.target.id&&t.target.id!==this.element.id+"SortingIndicator"){var e=t.target.id.replace(new RegExp("^"+this.element.id+"_"),"");this.settings.sort.field===e?this.settings.sort.direction="asc"===this.settings.sort.direction?"desc":"asc":(this.settings.sort.field=e,this.settings.sort.direction="asc"),this.load()}},_template:function(t,e){for(var i in e)t=t.replace(new RegExp("{"+i+"}","g"),e[i]);return t},_bindSelectButtons:function(){var t=this;c("."+this.element.id+"BtnSelectAll").click(function(){t._selectAll()}),c("."+this.element.id+"BtnSelectNone").click(function(){t._selectNone()})},_selectAll:function(){this.loading||c("."+this.element.id+"Checkbox").prop("checked",!0)},_selectNone:function(){this.loading||c("."+this.element.id+"Checkbox").prop("checked",!1)},_pagination:function(){var e=this,t=this.settings.maxPages,i=Math.ceil(this.total/this.settings.limit);if(i<2)c("."+this.element.id+"Pagination").html("");else{var s=this.settings.html.listWrapStartHTML;if(t<i){1<this.page&&(s+=this._template(this.settings.html.itemPagePrevHTML,{elementId:this.element.id,page:this.page-1})),3<this.page&&(s+=this._template(this.settings.html.itemPageHTML,{elementId:this.element.id,page:1}));var a=this.page-2;a<1&&(a=1),1<a-1&&(s+=this.settings.html.itemPageDotsHTML);var l=this.page+2;i<l&&(l=i);for(var n=a;n<=l;n++)s+=this._template(this.settings.html.itemPageHTML,{elementId:this.element.id,page:n});l<i-1&&(s+=this.settings.html.itemPageDotsHTML),this.page<=i-3&&(s+=this._template(this.settings.html.itemPageHTML,{elementId:this.element.id,page:i})),this.page<i&&(s+=this._template(this.settings.html.itemPageNextHTML,{elementId:this.element.id,page:this.page+1}))}else for(var r=1;r<=i;r++)s+=this._template(this.settings.html.itemPageHTML,{elementId:this.element.id,page:r});s+=this.settings.html.listWrapEndHTML,c("."+this.element.id+"Pagination").html(s),c("."+this.element.id+"PaginationLink").click(function(){var t=parseInt(c(this).data("page"),10);e.loading||e.page===t||(e.page=t,e.load())})}},_loading:function(t){var e="#"+this.element.id+"LoadingDiv";c(e).css({top:c(this.element).top,left:c(this.element).left,width:c(this.element).outerWidth(!0),height:c(this.element).outerHeight(!0)}),t?this.loadingInt=setTimeout(function(){c(e).show()},300):(clearTimeout(this.loadingInt),c(e).hide())},_debounce:function(i,s){var a=null;return function(){var t=this,e=arguments;clearTimeout(a),a=setTimeout(function(){i.apply(t,e)},s)}},getCurrentData:function(){return this.currentData},load:function(){var i=this;if(this.settings.offline){var t="";this.pages=parseInt(this.settings.offlineData.length/this.settings.limit,10),0<this.settings.offlineData.length%this.settings.limit&&this.pages++,this.settings.offlineData.sort(function(t,e){return t[i.settings.sort.field]>e[i.settings.sort.field]?"asc"===i.settings.sort.direction?-1:1:e[i.settings.sort.field]>t[i.settings.sort.field]?"asc"===i.settings.sort.direction?1:-1:0});var e=[],s=this.page*this.settings.limit-this.settings.limit,a=s+this.settings.limit;a>this.settings.offlineData.length&&(a=this.settings.offlineData.length);for(var l=s;l<a;l++)this.settings.offlineData[l]&&e.push(this.settings.offlineData[l]);for(var n in this.total=this.settings.offlineData.length,this._pagination(),this.currentData={},e){var r=e[n];for(var o in this.currentData[r._id||r.id]=r,t+="<tr>",this.header)if(this.header[o]===this.element.id+"ID")t+='<td><input type="checkbox" id="'+(r._id||r.id)+'" class="za-checkbox '+this.element.id+'Checkbox"></td>';else{var d=!1,p=this.header[o].replace(new RegExp("^"+this.element.id+"_"),"");for(var u in r)u===p&&this.settings.fields[u]&&(r[u]&&"string"==typeof r[u]&&(r[u]=r[u].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t+="<td>"+this.settings.fields[u].process(u,r,r[u])+"</td>",d=!0);d||(this.settings.fields[p]&&this.settings.fields[p].process?t+="<td>"+this.settings.fields[p].process(p,r)+"</td>":t+="<td></td>")}t+="</tr>"}c(this.element).find("tbody").html(t.length?t:this._template(this.settings.html.errorHTML,{error:this.settings.lang.noitems})),this._loading(!1),c('*[data-page="'+this.page+'"]').parent().addClass("za-active"),this._bindSelectButtons(),this.settings.sort.field&&this._sortIndicator(this.settings.sort.field,this.settings.sort.direction),c(this.element).find("thead").show(),this.settings.onLoad()}else{if(!this.settings.url||this.loading)return;var h=this,f="";this._loading(!0),this.loading=!0,c.ajax({type:"GET",url:this.settings.url,data:{limit:this.settings.limit,skip:this.page*this.settings.limit-this.settings.limit,sortField:this.settings.sort.field,sortDirection:this.settings.sort.direction,search:this.search},cache:!1}).done(function(t){if(h.loading=!1,t){for(var e in h.pages=parseInt(t.total/h.settings.limit,10),0<t.total%h.settings.limit&&h.pages++,h.total=t.total,h._pagination(),h.currentData={},t.items){var i=t.items[e];for(var s in h.currentData[i._id]=i,f+="<tr>",h.header)if(h.header[s]===h.element.id+"ID")f+='<td><input type="checkbox" id="'+i._id+'" class="za-checkbox '+h.element.id+'Checkbox"></td>';else{var a=!1,l=h.header[s].replace(new RegExp("^"+h.element.id+"_"),"");for(var n in i)n===l&&h.settings.fields[n]&&(i[n]&&"string"==typeof i[n]&&(i[n]=i[n].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),f+="<td>"+h.settings.fields[n].process(n,i,i[n])+"</td>",a=!0);a||(h.settings.fields[l]&&h.settings.fields[l].process?f+="<td>"+h.settings.fields[l].process(l,i)+"</td>":f+="<td></td>")}f+="</tr>"}c(h.element).find("tbody").html(f.length?f:h._template(h.settings.html.errorHTML,{error:h.settings.lang.noitems})),h._loading(!1),c('*[data-page="'+h.page+'"]').parent().addClass("za-active"),h._bindSelectButtons(),h.settings.sort.field&&h._sortIndicator(h.settings.sort.field,h.settings.sort.direction),c(h.element).find("thead").show(),h.settings.onLoad()}else h.loading=!1,h._loading(!1),c(h.element).find("tbody").html(h._template(h.settings.html.errorHTML,{error:h.settings.lang.error}))}).fail(function(){h.loading=!1,h._loading(!1),c(h.element).find("tbody").html(h._template(h.settings.html.errorHTML,{error:h.settings.lang.error}))})}}}),c.fn[i]=function(t){var e=void 0;return this.each(function(){(e=c.data(this,"plugin_"+i))||(e=new a(this,t),c.data(this,"plugin_"+i,e))}),e}}(jQuery,window,document),function(){var e=void 0,i=void 0,s=void 0,a=void 0,l=function(t){var e=decodeURIComponent(window.location.search.substring(1)).split("&"),i=void 0,s=void 0;for(s=0;s<e.length;s++)if((i=e[s].split("="))[0]===t)return void 0===i[1]||i[1]},n=function(t){t?($(".editForm-form-button").hide(),$("#zoiaEditDialogSpinner").show()):($(".editForm-form-button").show(),$("#zoiaEditDialogSpinner").hide())},r=function(t){t?($("#zoiaEditDialogLoading").show(),$("#zoiaEditDialogForm").hide()):($("#zoiaEditDialogLoading").hide(),$("#zoiaEditDialogForm").show())},o=function(){e.hide(),$("#brb").zoiaTable().load()},d=function(t){if(!t||"string"!=typeof t||!t.match(/^[a-f0-9]{24}$/))return o();i=t,$("#editForm").zoiaFormBuilder().setEditMode(!0),$("#editForm").zoiaFormBuilder().resetForm(!1),r(!0),n(!1),$("#editForm").zoiaFormBuilder().loadData({id:t}),e.show()},p=function(t){var e=t||{action:l("action"),id:l("id")};switch(e.action){case"edit":d(e.id);break;default:o()}};$(document).ready(function(){var t=$("#zp_locale").attr("data");s=JSON.parse($("#zp_corePrefix").attr("data")),a=$("#zp_uprefix").attr("data"),JSON.parse($("#zp_rxp").attr("data")),$.getScript("/api/lang/brb/"+t+".js").done(function(){e=$zUI.modal("#zoiaEditDialog",{bgClose:!1,escClose:!1}),$("#editForm").zoiaFormBuilder({save:{url:"/api/brb/save",method:"POST"},load:{url:"/api/brb/load",method:"GET"},template:{fields:'<div class="za-modal-body">{fields}</div>',buttons:"{buttons}"},formDangerClass:"za-form-danger",html:{helpText:'<div class="za-text-meta">{text}</div>',text:'<div class="za-margin-bottom"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><br><div class="za-form-controls"><input class="za-input {prefix}-form-field{css}" id="{prefix}_{name}" type="{type}" placeholder=""{autofocus}><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="za-label-danger"></span></div>{helpText}</div></div>',select:'<div class="za-margin-bottom"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><br><select{multiple} class="za-select {prefix}-form-field{css}" id="{prefix}_{name}"{autofocus}>{values}</select><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="za-label-danger"></span></div>{helpText}</div>',passwordConfirm:'<div class="za-margin"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><div class="za-flex"><div class="{prefix}-field-wrap"><input class="za-input {prefix}-form-field" id="{prefix}_{name}" type="password" placeholder=""{autofocus}></div><div><input class="za-input {prefix}-form-field" id="{prefix}_{name}Confirm" type="password" placeholder=""></div></div><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="za-label-danger"></span></div>{helpText}</div>',captcha:'<div class="za-margin"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><div class="za-grid za-grid-small"><div><input class="za-input {prefix}-form-field {prefix}-captcha-field{css}" type="text" placeholder="" id="{prefix}_{name}"{autofocus}></div><div><div class="za-form-controls"><img class="{prefix}-captcha-img"></div></div></div><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="za-label-danger"></span></div>{helpText}',buttonsWrap:'<div class="{css}">{buttons}{html}</div>',button:'<button class="za-button {prefix}-form-button{css}" id="{prefix}_{name}" type="{type}">{label}</button>',launcher:'<div class="za-margin"><label class="za-form-label" for="{prefix}_{name}_btn">{label}:</label><div class="za-flex"><div id="{prefix}_{name}_val" class="{prefix}-{name}-selector" data="{data}">{value}</div><div><button class="za-button za-button-default" id="{prefix}_{name}_btn" type="button">{labelBtn}</button></div></div>{helpText}</div>',textarea:'<div class="za-margin-bottom"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><br><div class="za-form-controls"><textarea class="za-textarea {prefix}-form-field{css}" id="{prefix}_{name}"{autofocus}></textarea><div id="{prefix}_{name}_error_text" class="{prefix}-error-text" style="display:none"><span class="za-label-danger"></span></div>{helpText}</div></div>',checkboxlistItem:'<li><label><input class="za-checkbox {prefix}-{name}-cbx" type="checkbox" data="{title}">&nbsp;&nbsp;{title}</label></li>',checkboxlist:'<div class="za-margin-bottom"><label class="za-form-label" for="{prefix}_{name}">{label}:</label><div class="za-panel za-panel-scrollable{css}" id="{prefix}_{name}_wrap"><ul class="za-list">{items}</ul></div>{helpText}</div>'},events:{onSaveValidate:function(t){return n(!0),t.id=i,t},onSaveSuccess:function(){$("#editForm_groups_wrap").scrollTop(0),e.hide(),$zUI.notification(lang.fieldErrors["Saved successfully"],{status:"success",timeout:1500}),$("#brb").zoiaTable().load(),window.history.pushState({action:""},document.title,a+s.admin+"/brb")},onSaveError:function(t){if(n(!1),t)switch(t.status){case-1:$zUI.notification(lang.fieldErrors["User not found"],{status:"danger",timeout:1500});break;default:var e="";t.fields&&(e=". "+lang.fieldErrors["Fields failed"]+": "+t.fields.join(", ")),$zUI.notification(lang.fieldErrors["Could not save to the database"]+e,{status:"danger",timeout:1500})}},onLoadSuccess:function(){r(!1),$("#editForm_portfolioid").focus()},onLoadError:function(){e.hide(),$("#zoiaEditDialog").hide(),$zUI.notification(lang["Could not load information from database"],{status:"danger",timeout:1500})}},items:{portfolioid:{type:"text",label:lang["Portfolio ID"],css:"za-form-width-medium",autofocus:!0,helpText:lang["Numbers only"],validation:{mandatoryCreate:!0,mandatoryEdit:!1,length:{min:1,max:10},regexp:/^[0-9]{1,10}$/,process:function(t){return t.trim()}}},buttons:{type:"buttons",css:"za-modal-footer za-text-right",buttons:[{name:"btnCancel",label:lang.Cancel,css:"za-button-default za-modal-close"},{name:"btnSave",label:lang.Save,css:"za-button-primary",type:"submit"}],html:'<div za-spinner style="float:right;display:none" id="zoiaEditDialogSpinner"></div>'}},lang:{mandatoryMissing:lang["Should not be empty"],tooShort:lang["Too short"],tooLong:lang["Too long"],invalidFormat:lang["Doesn't match required format"],passwordsNotMatch:lang["Passwords do not match"]}}),$("#brb").zoiaTable({url:"/api/brb/list",limit:20,sort:{field:"username",direction:"asc"},fields:{username:{sortable:!0,process:function(t,e,i){return i}},actions:{sortable:!1,process:function(t,e){return'<button class="za-icon-button zoia-brb-action-edit-btn" za-icon="icon: pencil" data="'+e._id+'" style="margin-right:5px"></button>'}}},onLoad:function(){$(".zoia-brb-action-edit-btn").click(function(){window.history.pushState({action:"edit",id:$(this).attr("data")},document.title,a+s.admin+"/brb?action=edit&id="+$(this).attr("data")),d($(this).attr("data"))})},lang:{error:lang["Could not load data from server. Please try to refresh page in a few moments."],noitems:lang["No items to display"]}}),$("#editForm_btnCancel").click(function(){window.history.pushState({action:""},document.title,a+s.admin+"/brb"),$("#editForm_groups_wrap").scrollTop(0)}),$(".brbBtnRefresh").click(function(){$("#brb").zoiaTable().load()}),$(window).bind("popstate",function(t){p(t.originalEvent.state)}),p(),$(".zoia-admin-loading").hide(),$("#zoia_admin_panel_wrap").show()})})}();