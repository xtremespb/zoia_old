"use strict";var price=parseFloat($("#za_catalog_item_price").html()),calculatePrice=function(){var a=[],t=[],c=[],e=price;return $(".za-catalog-item-checkbox").each(function(){if($(this).is(":checked")){a.push($(this).attr("data-id"));var t=parseFloat($(this).attr("data-price"));e+=t}}),$(".za-catalog-item-integer").each(function(){if($(this).is(":checked")){var a=$(this).attr("data-id"),c=a.match(/_float$/)?parseFloat($("#za_catalog_item_integer_"+a).val()).toFixed(2):parseInt($("#za_catalog_item_integer_"+a).val(),10);c||(c=1),t.push($(this).attr("data-id")+"|"+c);var i=parseFloat($(this).attr("data-price"))*c;$("#za_catalog_item_integer_val_"+a).html(parseFloat(i).toFixed(2)),e+=i}}),$(".za-catalog-item-select").each(function(){c.push($(this).find(":selected").data("id")+"|"+$(this).val()),e+=parseFloat($(this).find(":selected").data("price"))}),$("#za_catalog_item_price").html(parseFloat(e).toFixed(2)),{checkboxes:a,integers:t,selects:c}};$(document).ready(function(){za_catalog_cart_count&&$(".za-catalog-cart-count").html(za_catalog_cart_count).show(),$(".za-catalog-item-variant").click(function(){price=parseFloat($(this).attr("data-price")),calculatePrice()}),$(".za-catalog-item-checkbox").click(calculatePrice),$(".za-catalog-item-integer").click(calculatePrice),$(".za-catalog-item-select").click(calculatePrice).change(calculatePrice),$(".za-catalog-item-integer-field").change(calculatePrice).click(calculatePrice).keypress(calculatePrice),$(".za-catalog-cart-add-btn").click(function(){var a=$('input[name="za_item_variants"]:checked').attr("data-id"),t=calculatePrice();$(".za-catalog-cart-add-spinner").show(),$.ajax({type:"POST",url:"/api/warehouse/cart/add",data:{id:za_catalog_item_id,variant:a,checkboxes:t.checkboxes||[],integers:t.integers||[],selects:t.selects||[]},cache:!1}).done(function(a){$(".za-catalog-cart-add-spinner").hide(),1===a.status?($zUI.notification(lang["Added to your cart"],{status:"success",timeout:1e3}),a.count&&$(".za-catalog-cart-count").html(a.count).show()):$zUI.notification(lang["Could not add item to the cart"],{status:"danger",timeout:1e3})}).fail(function(){$(".za-catalog-cart-add-spinner").hide()})}),$(".za-catalog-item-variant:first").click()});