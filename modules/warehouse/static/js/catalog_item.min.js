"use strict";!function(){var e=void 0,c=void 0,t=void 0,i=function(){var t=[],c=[],a=[],i=e;return $(".za-catalog-item-checkbox").each(function(){if($(this).is(":checked")){t.push($(this).attr("data-id"));var a=parseFloat($(this).attr("data-price"));i+=a}}),$(".za-catalog-item-integer").each(function(){if($(this).is(":checked")){var a=$(this).attr("data-id"),t=a.match(/_float$/)?parseFloat($("#za_catalog_item_integer_"+a).val()).toFixed(2):parseInt($("#za_catalog_item_integer_"+a).val(),10);t||(t=1),c.push($(this).attr("data-id")+"|"+t);var e=parseFloat($(this).attr("data-price"))*t;$("#za_catalog_item_integer_val_"+a).html(parseFloat(e).toFixed(2)),i+=e}}),$(".za-catalog-item-select").each(function(){a.push($(this).find(":selected").data("id")+"|"+$(this).val()),i+=parseFloat($(this).find(":selected").data("price"))}),$("#za_catalog_item_price").html(parseFloat(i).toFixed(2)),{checkboxes:t,integers:c,selects:a}};$(document).ready(function(){e=parseFloat($("#za_catalog_item_price").html()),c=$("#zp_za_catalog_item_id").attr("data"),t=parseInt($("#zp_za_catalog_cart_count").attr("data"),10);var a=$("#zp_locale").attr("data");$.getScript("/api/lang/warehouse/"+a+".js").done(function(){t&&$(".za-catalog-cart-count").html(t).show(),$(".za-catalog-item-variant").click(function(){e=parseFloat($(this).attr("data-price")),i()}),$(".za-catalog-item-checkbox").click(i),$(".za-catalog-item-integer").click(i),$(".za-catalog-item-select").click(i).change(i),$(".za-catalog-item-integer-field").change(i).click(i).keypress(i),$(".za-catalog-cart-add-btn").click(function(){var a=$('input[name="za_item_variants"]:checked').attr("data-id"),t=i();$(".za-catalog-cart-add-spinner").show(),$.ajax({type:"POST",url:"/api/warehouse/cart/add",data:{id:c,variant:a,checkboxes:t.checkboxes||[],integers:t.integers||[],selects:t.selects||[]},cache:!1}).done(function(a){$(".za-catalog-cart-add-spinner").hide(),1===a.status?($zUI.notification(lang["Added to your cart"],{status:"success",timeout:1e3}),a.count&&$(".za-catalog-cart-count").html(a.count).show()):$zUI.notification(lang["Could not add item to the cart"],{status:"danger",timeout:1e3})}).fail(function(){$(".za-catalog-cart-add-spinner").hide()})}),$(".za-catalog-item-variant:first").click()})})}();